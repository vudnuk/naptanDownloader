// See https://aka.ms/new-console-template for more information

using NaptanDownloader;

var list = "[\"490\",\"639\",\"21\",\"190\",\"649\",\"668\",\"40\",\"619\",\"20\",\"940\",\"430\",\"280\",\"190\",\"38\",\"258\",\"532\",\"259\",\"940\",\"940\",\"370\",\"129\",\"450\",\"551\",\"149\",\"30\",\"10\",\"18\",\"40\",\"380\",\"310\",\"100\",\"571\",\"523\",\"249\",\"60\",\"160\",\"61\",\"50\",\"513\",\"940\",\"80\",\"554\",\"522\",\"100\",\"90\",\"430\",\"940\",\"490\",\"940\",\"100\",\"511\",\"100\",\"109\",\"940\",\"370\",\"680\",\"130\",\"76\",\"640\",\"120\",\"940\",\"430\",\"130\",\"110\",\"440\",\"60\",\"620\",\"490\",\"940\",\"612\",\"150\",\"150\",\"650\",\"512\",\"50\",\"940\",\"410\",\"609\",\"940\",\"609\",\"940\",\"160\",\"160\",\"228\",\"270\",\"440\",\"400\",\"533\",\"940\",\"68\",\"190\",\"75\",\"150\",\"210\",\"209\",\"450\",\"603\",\"670\",\"450\",\"450\",\"210\",\"140\",\"50\",\"613\",\"230\",\"390\",\"90\",\"618\",\"240\",\"940\",\"229\",\"250\",\"DfT\",\"250\",\"260\",\"20\",\"490\",\"940\",\"450\",\"269\",\"260\",\"260\",\"269\",\"140\",\"607\",\"270\",\"270\",\"280\",\"627\",\"29\",\"250\",\"240\",\"940\",\"180\",\"940\",\"79\",\"490\",\"940\",\"260\",\"280\",\"440\",\"628\",\"611\",\"49\",\"310\",\"250\",\"638\",\"553\",\"617\",\"410\",\"940\",\"290\",\"300\",\"616\",\"310\",\"380\",\"582\",\"910\",\"320\",\"300\",\"940\",\"339\",\"330\",\"940\",\"420\",\"330\",\"940\",\"430\",\"940\",\"531\",\"900\",\"940\",\"602\",\"250\",\"340\",\"940\",\"609\",\"521\",\"648\",\"59\",\"128\",\"118\",\"199\",\"561\",\"39\",\"78\",\"614\",\"552\",\"268\",\"430\",\"940\",\"690\",\"227\",\"390\",\"17\",\"370\",\"940\",\"350\",\"350\",\"250\",\"77\",\"615\",\"37\",\"410\",\"940\",\"158\",\"198\",\"940\",\"430\",\"360\",\"380\",\"660\",\"389\",\"390\",\"400\",\"400\",\"581\",\"468\",\"370\",\"940\",\"360\",\"119\",\"359\",\"240\",\"940\",\"159\",\"240\",\"940\",\"534\",\"130\",\"410\",\"940\",\"310\",\"490\",\"940\",\"572\",\"450\",\"430\",\"940\",\"420\",\"210\",\"40\",\"608\",\"130\",\"490\",\"940\",\"190\",\"460\",\"36\",\"601\",\"629\",\"380\",\"200\",\"35\",\"514\",\"69\",\"280\",\"19\",\"440\",\"450\",\"541\",\"220\",\"329\"]";



var smallList = "[\"490\",\"639\",\"21\",\"190\",\"649\",\"668\",\"40\",\"40\",\"\u00a0\",\"650\"";

var fileParser = new FileParser();

var newList = fileParser.RemoveSpecialCharactersExceptQuotes(list);
var newerList = fileParser.RemoveDuplicates(newList);
var newestList = fileParser.MakeLocalAuthoritiesThreeCharacters(fileParser.SplitStringIntoList(newerList));

await fileParser.DownloadMultipleFiles(newestList);

